{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Inici","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#materials","title":"Materials","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"programacio/","title":"Serveis de Xarxes i Internet","text":"<p>En aquest repositori agruparem els materials i activitats realitzades en el m\u00f2dul 0375 de Serveis de Xarxes i Internet del CFGS d'Administraci\u00f3 de Sistemes i Xarxes (ASIX), el curr\u00edculum del qual ve fixat pel Reial Decret 405/2023, impartit en l'IES Sa Palomera de Blanes.</p> <p>La compet\u00e8ncia que es treballa en aquest curs \u00e9s:</p> <ul> <li>\"Implantar i mantenir serveis de xarxa i internet, gestionant la seva configuraci\u00f3, seguretat i rendiment, per garantir la disponibilitat i l'optimitzaci\u00f3 dels recursos en entorns professionals.\"</li> </ul> <p>Aquesta compet\u00e8ncia implica capacitar l'alumnat per:</p> <ul> <li>Instal\u00b7lar i configurar serveis de xarxa com DNS, DHCP, FTP, HTTP(S), VPN, etc.</li> <li>Gestionar la seguretat dels serveis mitjan\u00e7ant tallafocs, autenticaci\u00f3 i encriptaci\u00f3.</li> <li>Monitoritzar el rendiment dels serveis i aplicar mesures correctives quan sigui necessari.</li> <li>Garantir la disponibilitat i l'optimitzaci\u00f3 dels recursos en entorns professionals.</li> </ul>"},{"location":"programacio/#resultats-daprenentatge","title":"Resultats d'Aprenentatge","text":"<p>Els diferents resultats d'aprenentatge (RA) treballats juntament amb el seu pes aproximat, tal com s'indica en la programaci\u00f3 did\u00e0ctica, s\u00f3n:</p> Codi Descripci\u00f3 Pes (%) RA1 Administra serveis de resoluci\u00f3 de noms, analitzant-los i garantint la seguretat del servei. 15 RA2 Administra serveis de configuraci\u00f3 autom\u00e0tica, identificant-los i verificant la correcta assignaci\u00f3 dels par\u00e0metres. 15 RA3 Administra servidors web aplicant criteris de configuraci\u00f3 i assegurant el funcionament del servei. 15 RA4 Administra serveis de transfer\u00e8ncia fitxers assegurant i limitant l\u2019acc\u00e9s a la informaci\u00f3. 15 RA5 Administra servidors de correu electr\u00f2nic, aplicant criteris de configuraci\u00f3 i garantitzant la seguretat del servei 10 RA6 Administra serveis de missatgeria instant\u00e0nia, not\u00edcies i llistes de distribuci\u00f3, verificant i assegurant l\u2019acc\u00e9s dels usuaris. 10 RA7 Administra serveis d\u2019\u00e0udio identificant-ne les necessitats de distribuci\u00f3 i adaptant els formats. 10 RA8 Administra serveis de v\u00eddeo identificant-ne les necessitats de distribuci\u00f3 i adaptant els formats. 10 Total pesos 100"},{"location":"programacio/#nuclis-formatius","title":"Nuclis Formatius","text":"<p>A partir dels RA, hem definit 4 nuclis formatius.</p> <p>El m\u00f2dul de Serveis de Xarxa i Internet ve fixat amb una c\u00e0rrega lectiva de 132h, de les quals 66h es fan en el centre i les altres 66 a l'empresa. Les classes estan repartides en 3 sessions setmanals, al llarg de 22 setmanes. Aquest curs s'ha planificat sobre un total de 22 setmanes, deixant les darreres setmanes per al desenvolupament, per part de l'alumnat, del programa formatiu dual en l'empresa o per l'execuci\u00f3 del projecte. Aquestes 22 setmanes fan un total de 66h lectives.</p> <p>A continuaci\u00f3, en la seg\u00fcent taula i a mode de mapa general, es mostren els diferents NF i els RA que cobreixen, indicant la c\u00e0rrega hor\u00e0ria emprada durant el present curs en cadascuna d'elles:</p> Nuclis Formatius RA1 RA2 RA3 RA4 RA5 RA6 RA7 RA8 1. Core de Xarxa 10 10 2. Serveis web 8 6 3. Missatgeria 8 8 4. Serveis Multimedia 8 8 Total - 66h 10 10 8 6 8 8 8 8 Percentatge 15% 15% 12% 12% 10% 12% 12% 12% <p>Si ens centrem en la temporitzaci\u00f3, hem agrupat les unitats en diferents blocs repartits al llarg del curs del seg\u00fcent mode:</p>"},{"location":"programacio/#planificacio-temporal","title":"Planificaci\u00f3 temporal","text":"<pre><code>timeline\n    title Avaluaci\u00f3 de Serveis de Xarxes i Internet\n    section 1r Avaluaci\u00f3\n        Core de Xarxa\n            : DHCP\n            : DNS\n        Serveis Web\n            : Servidors Web\n            : Servidors FTP\n    section 2a Avaluaci\u00f3\n        Serveis de Missatgeria\n            : Email\n            : Missatgeria Instant\u00e0nia\n    section 3a Avaluaci\u00f3\n        Serveis Multim\u00e8dia\n            : \u00c0udio\n            : Video</code></pre>"},{"location":"programacio/#avaluacio","title":"Avaluaci\u00f3","text":"<p>Per a l'avaluaci\u00f3 del m\u00f2dul de Serveis de Xarxes i internet es ponderaran els resultats d'aprenentatge respecte als percentatges indicats en l'apartat anterior.</p> <p>Per a l'avaluaci\u00f3 de cada RA, utilitzarem diferents Instruments d'Avaluaci\u00f3 (IA), com poden ser:</p> <ul> <li> <p>Activitats d'ensenyament/aprenentatge(), normalment realitzades a l'aula, acompanyades d'una r\u00fabrica. Distingirem les activitats de classe (AC), les quals es qualificaran normalment sobre una escala de 3 punts, de les activitats de refor\u00e7 (AR), tamb\u00e9 sobre 3 punts per consolidar un o diversos CA no aconseguits, aix\u00ed com activitats d'aprofundiment (AP) que aportaran punts extra al RA.</p> </li> <li> <p>Pr\u00e0ctiques (PR) () o treball de recerca (TR) (), amb una c\u00e0rrega temporal variable, entre una setmana o tota una unitat did\u00e0ctica. Normalment qualificats sobre 10 punts.</p> </li> <li> <p>Projectes (PY), b\u00e9 de desenvolupament individual o en parelles, sobre un determinat RA. Normalment qualificats sobre 30 punts.</p> </li> <li> <p>Proves objectives (PO). En alguns RA, i no de forma generalitzada, es realitzar\u00e0 una prova objectiva (ja sigui escrita o en ordinador). Normalment qualificats sobre 30 punts.</p> </li> </ul> <p>Per calcular la qualificaci\u00f3 de cada resultat d'aprenentatge, es realitzar\u00e0 la mitjana ponderada simple dels diferents instruments d'avaluaci\u00f3 emprats en dit RA. Per comprovar que s'han cobert tots els criteris d'avaluaci\u00f3, pots consultar la p\u00e0gina de validaci\u00f3.</p> <p>Totes les qualificacions, tant dels instruments d'avaluaci\u00f3 com dels propis RA, es podr\u00e0 consultar en tot moment en la plataforma Aules del curs.</p>"},{"location":"programacio/#materials","title":"Materials","text":"<p>Al llarg del curs, anirem treballant diferents materials disponibles en aquest espai web.</p> <p>Cadascuna dels NF comen\u00e7ar\u00e0 amb un resum de la Proposta Did\u00e0ctica que es planteja, els elements que cobrir\u00e0, tant el RA a treballar com els seus criteris d'avaluaci\u00f3 (CA) associats, aix\u00ed com un q\u00fcestionari inicial per reflexionar el nostre coneixement previ.</p> <p>En la part final de cada sessi\u00f3, a m\u00e9s de diferents recursos de Refer\u00e8ncia per ampliar coneixements, es plantegen una s\u00e8rie d'Activitats que anirem treballant en la seva major mesura a l'aula. Cadascuna de les activitats indica el RA que cobreix, els CE que treballa aix\u00ed com la seva qualificaci\u00f3, la qual despr\u00e9s es veur\u00e0 reflectida en la r\u00fabrica del lliurament de dita tasca a Aules. A m\u00e9s, les activitats estan codificades amb el prefix del tipus d'instrument d'avaluaci\u00f3, aix\u00ed com la unitat que cobreixen (per exemple, l'activitat AC207, ser\u00e0 la 7a activitat de classe del nucli formatiu 2).</p>"},{"location":"DHCP/dhcp/","title":"DHCP","text":""},{"location":"DHCP/dhcp/#introduccio","title":"Introducci\u00f3","text":"<p>Per poder pert\u00e0nyer a una xarxa, hem de tenir certs par\u00e0metres configurats.Com a m\u00ednim, dins el model TCP/IP, s'ha de configurar:</p> <ul> <li>IP</li> <li>m\u00e0scara de subxarxa.</li> </ul> <p>Aquests poden ser assignats de forma est\u00e0tica o din\u00e0mica. L\u2019assignaci\u00f3 est\u00e0tica d\u2019adreces IP ens implica tenir una IP dedicada sempre a un mateix dispositiu, pr\u00e8viament configurada al propi dispositiu. D\u2019aquesta manera, servidors, routers, impressores, i d\u2019altres elements clau i fixes de la xarxa quedaran perfectament identificats.</p> <p>No obstant, cal anar un per un a configurar-los pr\u00e8viament de forma manual. Un canvi a la xarxa pot implicar la reconfiguraci\u00f3 del dispositiu, habitualment amb la necessitat   d\u2019acc\u00e9s presencial.  A m\u00e9s, pot comportar problemes de seguretat, ja que pot esdevenir una porta d\u2019acc\u00e9s important per atacants al ser un punt conegut. Es necessita una manera en que \u00abalg\u00fa\u00bb li assigni sempre la mateixa IP i alhora ens permeti aplicar la configuraci\u00f3 de forma automatizada.</p> <p>Cal trobar un sistema que ens identifiqui de forma \u00fanica cada element de la xarxa per tal d\u2019assignar-li la seva corresponent configuraci\u00f3.</p> <p>A m\u00e9s, dins la xarxa, hi ha molts m\u00e9s elements (per exemple, estacions de treball), alguns dels quals no estan  permanentment connectats o permeten mobilitat f\u00edsica (port\u00e0tils, m\u00f2bils, tauletes, etc.)</p> <p>Tamb\u00e9 hem de tenir en compte que depenent de les dimensions de la xarxa, el nombre d\u2019adreces disponibles pot ser limitat.Per tant, ens pot interessar no assignar est\u00e0ticament ni de forma permanent una adre\u00e7a IP a un dispositiu. L\u2019assignaci\u00f3 din\u00e0mica ens permet, de forma autom\u00e0tica, assignar al dispositiu una adre\u00e7a IP lliure dins un rang preestablert, i aix\u00ed evitar la feina manual de configuraci\u00f3 a l\u2019administrador de la xarxa. Ho veurem implementat gr\u00e0cies al servei DHCP.</p>"},{"location":"DHCP/dhcp/#el-servei-dhcp","title":"El servei DHCP","text":"<p>El servei DHCP implementa el protocol DHCP (Dynamic Host Configuration Protocol)  o  protocol  de  configuraci\u00f3  din\u00e0mica  d\u2019equips)  que  permet  la configuraci\u00f3 d\u2019adreces IP, m\u00e0scares, passarel\u00b7les per defecte i moltes altres opcions de configuraci\u00f3 de manera totalment din\u00e0mica.</p> <p>De forma autom\u00e0tica cada equip rep una configuraci\u00f3 amb la informaci\u00f3 necess\u00e0ria per poder treballar en xarxa i poder accedir a altres equips i altres xarxes.</p> <p>Els seus m\u00faltiples par\u00e0metres de configuraci\u00f3 permeten donar soluci\u00f3 a les diferents situacions de xarxa que us podeu trobar.Qualsevol canvi a la xarxa s\u2019aplica i es distribueix de forma centralitzada als clients connectats.</p> <p>El protocol DHCP es troba dins la capa d\u2019aplicaci\u00f3 (capa 7 del model OSI).</p> <p>Treballa amb arquitectura C/S. Els ports associats al protocol son el 67 UDP per part del servidor i el 68 UDP per part del client. Cal configurar el nodes com a client de DHCP per tal que llancin la petici\u00f3. DHCP utilitza una llista centralitzada d\u2019adreces IP per tal d\u2019assignar, de manera din\u00e0mica, la configuraci\u00f3 de xarxa als diferents nodes que la formen. El servidor de DHCP assigna temporalment (lease time) aquestes adreces IP als nodes que ho sol\u00b7liciten, i el temps d\u2019assignaci\u00f3 est\u00e0 en funci\u00f3 de la configuraci\u00f3 concreta del servidor. Quan aquest finalitza, el client pot sol\u00b7licitar una renovaci\u00f3. El protocol DHCP es troba dins la capa d\u2019aplicaci\u00f3 (capa 7 del model OSI). Treballa amb arquitectura C/S. Els ports associats al protocol son el 67 UDP per part del servidor i el 68 UDP per part del client. Cal configurar el nodes com a client de DHCP per tal que llancin la petici\u00f3. DHCP utilitza una llista centralitzada d\u2019adreces IP per tal d\u2019assignar, de manera din\u00e0mica, la configuraci\u00f3 de xarxa als diferents nodes que la formen. El servidor de DHCP assigna temporalment (lease time) aquestes adreces IP als nodes que ho sol\u00b7liciten, i el temps d\u2019assignaci\u00f3 est\u00e0 en funci\u00f3 de la configuraci\u00f3 concreta del servidor. Quan aquest finalitza, el client pot sol\u00b7licitar una renovaci\u00f3. Per  utilitzar  correctament  el  servei,  s\u2019han  de  reservar  pr\u00e8viament  les adreces que estaran disponibles per tal que cap altre dispositiu dins la mateixa xarxa local se\u2019ls pugui assignar i hi hagi un conflicte d\u2019IP. De forma general, el funcionament \u00e9s molt senzill:</p> <ul> <li>El client sol\u00b7licita una IP.</li> <li>El servidor li ofereix.</li> <li>El client l\u2019accepta.</li> <li>El servidor la confirma, ho registra, i li proporciona la resta de configuraci\u00f3 de xarxa.</li> <li>El client per\u00f2, com \u201cconeix\u201d el servidor?</li> <li>Com pot fer la petici\u00f3 inicial si encara no t\u00e9 IP?</li> </ul> <p>Recordeu que l\u2019assignaci\u00f3 de la IP \u00e9s per un temps determinat.Aquest temps el determina la configuraci\u00f3 del servidor.Passat el temps, el client haur\u00e0 de renovar la concessi\u00f3 de la IP.</p> <p>Inicialment la petici\u00f3 del client no es fa a una IP en concret, ja que en aquell moment el client \u00e9s un nou membre a la xarxa i desconeix com aquesta funciona. Per aix\u00f2 la petici\u00f3 que fa el client es fa a l\u2019adre\u00e7a MAC de broadcast.Aix\u00f2 vol dir que tots els membres de la xarxa el veuran, per\u00f2 nom\u00e9s haur\u00e0 de respondre aquell o aquells que tinguin el servei de DHCP configurat i actiu.</p>"},{"location":"DHCP/dhcp/#el-proces-dassignacio-dip","title":"El proc\u00e9s d'assignaci\u00f3 d'IP","text":"<p>El proc\u00e9s d\u2019assignaci\u00f3 d\u2019adreces es resumeix en:</p> <ul> <li> <p>Quan un dispositiu client es connecta a la xarxa en mode din\u00e0mic, envia un missatge de difusi\u00f3 (broadcast) a la xarxa sol\u00b7licitant una adre\u00e7a IP. En el missatge s\u2019inclou l\u2019adre\u00e7a MAC del client.</p> </li> <li> <p>El servidor DHCP veu la petici\u00f3 i anota la MAC a la seva llista, i li respon un missatge on li ofereix una IP, una m\u00e0scara, i una s\u00e8rie de par\u00e0metres addicionals (gateway i DNS habitualment) per tal que pugui formar part de la xarxa i connectar-se a d\u2019altres xarxes si s\u2019escau.</p> </li> </ul>"},{"location":"DNS/dns/","title":"DNS - Sistema de Noms de Domini","text":""},{"location":"DNS/dns/#introduccio-al-dns","title":"Introducci\u00f3 al DNS","text":""},{"location":"DNS/dns/#que-es-el-dns","title":"Qu\u00e8 \u00e9s el DNS?","text":"<p>El Domain Name System (DNS) \u00e9s un servei fonamental d'Internet que actua com el \"llistat telef\u00f2nic d'Internet\", traduint noms de domini llegibles pels humans (com ara google.com) en adreces IP num\u00e8riques (com ara 142.250.185.78) que les m\u00e0quines poden entendre i utilitzar per comunicar-se entre elles.</p> <p>Sense DNS, haur\u00edem de recordar les adreces IP num\u00e8riques de cada lloc web que volgu\u00e9ssim visitar, quelcom pr\u00e0cticament impossible en l'Internet actual amb milions de llocs web disponibles. Aquest sistema distribu\u00eft i jer\u00e0rquic permet que Internet funcioni de manera eficient i escalable.</p>"},{"location":"DNS/dns/#per-que-es-important-el-dns","title":"Per qu\u00e8 \u00e9s important el DNS?","text":"<p>La import\u00e0ncia del DNS radica en diversos factors cr\u00edtics per al funcionament d'Internet i les xarxes corporatives. En primer lloc, proporciona una capa d'abstracci\u00f3 entre els usuaris i la infraestructura t\u00e8cnica subjacent, permetent que els usuaris utilitzin noms memorables en lloc de n\u00fameros complexos.</p> <p>A m\u00e9s, el DNS \u00e9s essencial per a la redund\u00e0ncia i l'equilibri de c\u00e0rrega. Un mateix nom de domini pot resoldre's a m\u00faltiples adreces IP, permetent distribuir el tr\u00e0nsit entre diversos servidors i proporcionar alta disponibilitat. Tamb\u00e9 facilita la mobilitat dels serveis, ja que podem canviar l'adre\u00e7a IP d'un servidor sense que els usuaris hagin de modificar res.</p>"},{"location":"DNS/dns/#historia-i-evolucio-del-dns","title":"Hist\u00f2ria i Evoluci\u00f3 del DNS","text":""},{"location":"DNS/dns/#els-origens-arpanet-i-el-fitxer-hosts","title":"Els Or\u00edgens: ARPANET i el fitxer HOSTS","text":"<p>Abans del DNS, a principis dels anys 70, ARPANET (el precursor d'Internet) utilitzava un sistema molt simple per a la resoluci\u00f3 de noms. Cada ordinador mantenia un fitxer local anomenat HOSTS.TXT que contenia una llista de tots els ordinadors de la xarxa amb les seves adreces IP corresponents.</p> <p>Aquest fitxer es mantenia centralment al Stanford Research Institute (SRI) i els administradors de sistemes havien de descarregar-lo regularment via FTP per mantenir les seves c\u00f2pies actualitzades. A mesura que ARPANET creixia, aquest sistema es va tornar insostenible per diversos motius: el fitxer creixia exponencialment, la c\u00e0rrega al servidor central era enorme, i mantenir la consist\u00e8ncia entre totes les c\u00f2pies era pr\u00e0cticament impossible.</p>"},{"location":"DNS/dns/#el-naixement-del-dns-1983-1987","title":"El naixement del DNS (1983-1987)","text":"<p>Paul Mockapetris va desenvolupar el DNS el 1983 a la University of Southern California com a soluci\u00f3 als problemes del sistema HOSTS.TXT. Les especificacions originals es van publicar als RFC 882 i 883 el novembre de 1983, posteriorment substitu\u00efts pels RFC 1034 i 1035 el 1987, que encara s\u00f3n la base del DNS actual.</p> <p>El nou sistema introdu\u00efa conceptes revolucionaris com la jerarquia de dominis, la delegaci\u00f3 d'autoritat, i la resoluci\u00f3 distribu\u00efda. Aix\u00f2 permetia que cada organitzaci\u00f3 gestion\u00e9s el seu propi espai de noms sense dependre d'una autoritat central per a cada canvi.</p>"},{"location":"DNS/dns/#bind-la-implementacio-de-referencia","title":"BIND: La implementaci\u00f3 de refer\u00e8ncia","text":"<p>BIND (Berkeley Internet Name Domain) \u00e9s la implementaci\u00f3 m\u00e9s antiga i utilitzada del protocol DNS, desenvolupada originalment a la University of California Berkeley. La primera versi\u00f3 de BIND es va llan\u00e7ar el 1984 com a part del sistema operatiu BSD 4.3.</p> <p>BIND 9, llan\u00e7at el 2000, va ser una reescriptura completa del programari per millorar la seguretat, l'escalabilitat i afegir suport per a IPv6 i DNSSEC. Actualment, BIND continua sent el servidor DNS m\u00e9s desplegat a Internet, utilitzat tant per servidors arrel com per grans prove\u00efdors de serveis.</p>"},{"location":"DNS/dns/#el-naixement-dicann-1998","title":"El naixement d'ICANN (1998)","text":"<p>Durant els anys 80 i 90, la gesti\u00f3 dels noms de domini i adreces IP estava for\u00e7a centralitzada. L\u2019IANA (Internet Assigned Numbers Authority), dirigida per Jon Postel a la Universitat del Sud de Calif\u00f2rnia (USC/ISI), era qui coordinava manualment moltes d\u2019aquestes tasques. Per\u00f2 amb l\u2019explosi\u00f3 d\u2019Internet als 90, aquest model ja no era sostenible:</p> <ul> <li>Cada vegada hi havia m\u00e9s dominis i m\u00e9s usuaris.</li> <li>Empreses privades (com Network Solutions) havien obtingut contractes per gestionar registres de dominis, i aix\u00f2 generava tensions sobre compet\u00e8ncia i preus.</li> <li>El govern dels Estats Units, a trav\u00e9s del Departament de Comer\u00e7, encara tenia un paper molt fort en la governan\u00e7a d\u2019Internet, cosa que altres pa\u00efsos i actors volien internacionalitzar.</li> </ul> <p>Per aix\u00f2, el 1998 es va crear l\u2019ICANN (Internet Corporation for Assigned Names and Numbers), una entitat sense \u00e0nim de lucre establerta a Calif\u00f2rnia, amb la missi\u00f3 de gestionar aquestes funcions de manera m\u00e9s oberta, transparent i global.</p>"},{"location":"DNS/dns/#funcions-principals-dicann","title":"Funcions principals d\u2019ICANN","text":"<p>ICANN no controla Internet, per\u00f2 s\u00ed que administra les peces b\u00e0siques que la fan funcionar de manera \u00fanica i coherent:</p> <ul> <li>Gesti\u00f3 del sistema de noms de domini (DNS)</li> <li>Coordina els TLD (Top-Level Domains) com .com, .org, .net, i tamb\u00e9 els de codi de pa\u00eds (.es, .cat, .fr\u2026).</li> <li>Acredita i regula els registradors de dominis (empreses com GoDaddy, Namecheap, etc.).</li> <li>Assignaci\u00f3 d\u2019adreces IP i recursos d\u2019Internet</li> <li>Supervisa la distribuci\u00f3 global dels blocs d\u2019adreces IPv4 i IPv6.Ho fa a trav\u00e9s dels RIRs (Regional Internet Registries) com RIPE NCC (Europa), ARIN (Am\u00e8rica del Nord), APNIC (\u00c0sia-Pac\u00edfic), etc.</li> <li>Gesti\u00f3 del sistema de servidors arrel del DNS</li> <li>Coordina els 13 servidors arrel l\u00f2gics (A\u2013M).</li> <li>S\u2019assegura que hi hagi coher\u00e8ncia i seguretat en la jerarquia global de noms.</li> <li>Pol\u00edtiques de governan\u00e7a d\u2019Internet</li> <li>Facilita processos oberts i participatius on comunitats t\u00e8cniques, empreses, governs i usuaris debaten i defineixen regles sobre dominis, noves extensions (.app, .shop, etc.), seguretat, i privacitat.</li> <li>Seguretat i estabilitat</li> <li>Promou protocols com DNSSEC per protegir la integritat de les respostes DNS.</li> <li>Vetlla perqu\u00e8 Internet continu\u00ef sent estable i interoperable arreu del m\u00f3n.</li> </ul>"},{"location":"DNS/dns/#arquitectura-i-funcionament-del-dns","title":"Arquitectura i Funcionament del DNS","text":""},{"location":"DNS/dns/#estructura-jerarquica","title":"Estructura Jer\u00e0rquica","text":"<p>El DNS s'organitza en una estructura d'arbre invertit amb diversos nivells. Al cim de la jerarquia trobem el domini arrel (root), representat per un punt (.). Sota l'arrel hi ha els dominis de primer nivell (TLD - Top Level Domains) com .com, .org, .es, .cat, etc.</p> <pre><code>flowchart TD;\nA[.] --&gt; B[.com];\nA --&gt; C[.org];\nA --&gt; D[.es];\nD --&gt; E[exemple.es];\nE --&gt; F[www.exemple.es];</code></pre> <p>Cada nivell de la jerarquia delega l'autoritat sobre els seus subdominis al nivell inferior. Per exemple, el TLD .es delega l'autoritat sobre exemple.es a l'organitzaci\u00f3 que ha registrat aquest domini. Aquesta delegaci\u00f3 permet una gesti\u00f3 distribu\u00efda i escalable del sistema global de noms.</p>"},{"location":"DNS/dns/#components-del-sistema-dns","title":"Components del Sistema DNS","text":"<p>El sistema DNS consta de diversos components clau que treballen conjuntament:</p> <p>Servidors DNS Recursius (Resolvers): Aquests servidors reben consultes dels clients i s'encarreguen de trobar la resposta navegant per la jerarquia DNS. Mantenen una mem\u00f2ria cau (cache) de les respostes per millorar el rendiment i reduir la c\u00e0rrega a la xarxa. Son els servidors que utilitzen els usuaris finals (normalment els del teu ISP o serveis com Google DNS 8.8.8.8 o Cloudflare 1.1.1.1)</p> <p>Servidors DNS Autoritatius: Contenen la informaci\u00f3 autoritativa sobre una zona DNS espec\u00edfica. Quan un servidor \u00e9s autoritatiu per a una zona, les seves respostes es consideren definitives per a aquell domini.</p> <ul> <li>\u2705 Respostes autorit\u00e0ries \u2192 provenen directament d\u2019un servidor que gestiona la zona.</li> <li>\u26a0\ufe0f Respostes no autorit\u00e0ries \u2192 provenen de la cache d\u2019un servidor recursiu.</li> </ul> <p>Servidors Arrel (Root Servers): S\u00f3n els servidors al cim de la jerarquia DNS. Actualment hi ha 13 adreces IP de servidors arrel (anomenades A-M), encara que f\u00edsicament s\u00f3n centenars de servidors distribu\u00efts globalment utilitzant anycast.</p> <p>Servidors de domini de primer nivell (TLD servers): Contenen la informaci\u00f3 dels dominis d\u2019un TLD concret (per exemple, .com, .org, .es, .cat). Quan un recursiu pregunta per www.exemple.cat, el servidor .cat li diu quins s\u00f3n els autoritatius per exemple.cat.</p> <p>Zona i registres DNS (namespace): Una zona DNS \u00e9s la part de l\u2019espai de noms que un servidor autoritatiu administra. </p> <p>Caches DNS:Tant els resolvers com els sistemes operatius i navegadors mantenen una cache local.Eviten repetir consultes i milloren el rendiment.Cada registre t\u00e9 un TTL (Time To Live) que marca quant de temps pot romandre en cache.</p>"},{"location":"DNS/dns/#proces-de-resolucio-dns","title":"Proc\u00e9s de Resoluci\u00f3 DNS","text":"<p>Quan un usuari introdueix una URL al navegador, s'inicia un proc\u00e9s complex de resoluci\u00f3 que segueix aquests passos:</p> <pre><code>flowchart TD\n    U[Usuari] --&gt; R[Resolver recursiu]\n    R --&gt; A[Servidors arrel]\n    A --&gt; T[TLD .com / .es / .org]\n    T --&gt; Z[Servidor autoritatiu]\n    Z --&gt;|Resposta definitiva| R\n    R --&gt; U</code></pre> <ol> <li> <p>Consulta al resolver local: El sistema operatiu primer consulta la seva cache local i el fitxer hosts. Si no troba la resposta, envia la consulta al servidor DNS configurat (normalment el del prove\u00efdor d'Internet).</p> </li> <li> <p>Resoluci\u00f3 recursiva: Si el resolver no t\u00e9 la resposta a la seva cache, inicia una resoluci\u00f3 recursiva comen\u00e7ant pels servidors arrel, despr\u00e9s els TLD, i finalment els servidors autoritatius del domini.</p> </li> <li> <p>Emmagatzematge en cache: Cada resposta s'emmagatzema temporalment segons el seu TTL (Time To Live) per accelerar futures consultes.</p> </li> <li> <p>Retorn de la resposta: Finalment, l'adre\u00e7a IP es retorna a l'aplicaci\u00f3 que la va sol\u00b7licitar.</p> </li> </ol>"},{"location":"DNS/dns/#tipus-de-registres-dns","title":"Tipus de Registres DNS","text":""},{"location":"DNS/dns/#registres-basics","title":"Registres B\u00e0sics","text":"<p>Registre A (Address): Mapeja un nom de domini a una adre\u00e7a IPv4. \u00c9s el tipus de registre m\u00e9s com\u00fa i fonamental. Per exemple: <code>www.exemple.cat IN A 192.0.2.1</code></p> <p>Registre AAAA: Similar al registre A per\u00f2 per a adreces IPv6. Exemple: <code>www.exemple.cat IN AAAA 2001:db8::1</code></p> <p>Registre CNAME (Canonical Name): Crea un \u00e0lies d'un nom a un altre. \u00datil per apuntar m\u00faltiples noms al mateix servidor. Exemple: <code>ftp.exemple.cat IN CNAME www.exemple.cat</code></p> <p>Registre MX (Mail Exchange): Especifica els servidors de correu per al domini, incloent una prioritat. Exemple: <code>exemple.cat IN MX 10 mail.exemple.cat</code></p>"},{"location":"DNS/dns/#registres-avancats","title":"Registres Avan\u00e7ats","text":"<p>Registre NS (Name Server): Indica quins servidors DNS s\u00f3n autoritatius per a una zona. Fonamental per a la delegaci\u00f3 de subdominis.</p> <p>Registre PTR (Pointer): Utilitzat per a la resoluci\u00f3 inversa (d'IP a nom). Essencial per a la verificaci\u00f3 de servidors de correu.</p> <p>Registre SOA (Start of Authority): Cont\u00e9 informaci\u00f3 administrativa sobre la zona, incloent el servidor primari, el correu de l'administrador, i diversos temporitzadors per a la sincronitzaci\u00f3.</p> <p>Registre TXT: Permet emmagatzemar text arbitrari. Utilitzat per SPF, DKIM, verificaci\u00f3 de domini, i altres prop\u00f2sits.</p> <p>Registre SRV (Service): Especifica la ubicaci\u00f3 de serveis espec\u00edfics, incloent port i prioritat. Utilitzat per protocols com SIP, XMPP, i Active Directory.</p> <p>Registre CAA (Certification Authority Authorization): Especifica quines autoritats de certificaci\u00f3 poden emetre certificats SSL per al domini.</p>"},{"location":"DNS/dns/#configuracio-de-dns-en-linux-amb-bind9","title":"Configuraci\u00f3 de DNS en Linux amb BIND9","text":""},{"location":"DNS/dns/#installacio-de-bind9","title":"Instal\u00b7laci\u00f3 de BIND9","text":"<p>En sistemes basats en Debian/Ubuntu, la instal\u00b7laci\u00f3 \u00e9s senzilla:</p> <pre><code># Actualitzaci\u00f3 del sistema\nsudo apt update &amp;&amp; sudo apt upgrade -y\n\n# Instal\u00b7laci\u00f3 de BIND9 i eines relacionades\nsudo apt install -y bind9 bind9utils bind9-doc dnsutils\n\n# Verificaci\u00f3 del servei\nsudo systemctl status bind9\n</code></pre> <p>Per a sistemes basats en Red Hat/CentOS:</p> <pre><code># Instal\u00b7laci\u00f3 en RHEL/CentOS\nsudo dnf install -y bind bind-utils\n\n# Iniciar i habilitar el servei\nsudo systemctl enable named\nsudo systemctl start named\n</code></pre>"},{"location":"DNS/dns/#estructura-de-fitxers-de-configuracio","title":"Estructura de Fitxers de Configuraci\u00f3","text":"<p>Els fitxers de configuraci\u00f3 de BIND es troben a <code>/etc/bind/</code> en sistemes Debian/Ubuntu. L'estructura t\u00edpica inclou:</p> <ul> <li>named.conf: Fitxer principal de configuraci\u00f3</li> <li>named.conf.options: Opcions globals del servidor</li> <li>named.conf.local: Definici\u00f3 de zones locals</li> <li>named.conf.default-zones: Zones per defecte (localhost, broadcast, etc.)</li> </ul>"},{"location":"DNS/dns/#configuracio-basica-del-servidor","title":"Configuraci\u00f3 B\u00e0sica del Servidor","text":"<p>Configuraci\u00f3 del fitxer <code>/etc/bind/named.conf.options</code>:</p> <pre><code># Definici\u00f3 de la xarxa interna\nacl \"xarxa-interna\" {\n    192.168.1.0/24;\n    10.0.0.0/8;\n    localhost;\n};\n\noptions {\n    directory \"/var/cache/bind\";\n\n    # Configuraci\u00f3 de seguretat\n    recursion yes;\n    allow-recursion { xarxa-interna; };\n    allow-query { xarxa-interna; };\n    allow-transfer { none; };\n\n    # Forwarders (DNS externs)\n    forwarders {\n        8.8.8.8;        # Google DNS\n        1.1.1.1;        # Cloudflare DNS\n    };\n    forward only;\n\n    # Configuraci\u00f3 DNSSEC\n    dnssec-validation auto;\n\n    # IPv6\n    listen-on-v6 { any; };\n\n    # Amagar versi\u00f3 de BIND\n    version \"DNS Server\";\n};\n</code></pre>"},{"location":"DNS/dns/#creacio-de-zones","title":"Creaci\u00f3 de Zones","text":"<p>Definici\u00f3 de zones al fitxer <code>/etc/bind/named.conf.local</code>:</p> <pre><code># Zona directa\nzone \"empresa.local\" IN {\n    type master;\n    file \"/etc/bind/zones/db.empresa.local\";\n    allow-update { none; };\n};\n\n# Zona inversa\nzone \"1.168.192.in-addr.arpa\" IN {\n    type master;\n    file \"/etc/bind/zones/db.192.168.1\";\n    allow-update { none; };\n};\n</code></pre> <p>Exemple de fitxer de zona directa (<code>/etc/bind/zones/db.empresa.local</code>):</p> <pre><code>$TTL 86400\n@       IN      SOA     ns1.empresa.local. admin.empresa.local. (\n                        2024010101      ; Serial\n                        3600            ; Refresh (1 hora)\n                        1800            ; Retry (30 minuts)\n                        604800          ; Expire (1 setmana)\n                        86400 )         ; Minimum TTL (1 dia)\n\n; Servidors de noms\n        IN      NS      ns1.empresa.local.\n        IN      NS      ns2.empresa.local.\n\n; Registres A\nns1     IN      A       192.168.1.10\nns2     IN      A       192.168.1.11\nwww     IN      A       192.168.1.20\nmail    IN      A       192.168.1.25\nftp     IN      A       192.168.1.30\n\n; Registres CNAME\nwebmail IN      CNAME   mail\nportal  IN      CNAME   www\n\n; Registre MX\n@       IN      MX      10      mail.empresa.local.\n\n; Registres TXT\n@       IN      TXT     \"v=spf1 mx -all\"\n</code></pre>"},{"location":"DNS/dns/#configuracio-de-dns-en-windows-server","title":"Configuraci\u00f3 de DNS en Windows Server","text":""},{"location":"DNS/dns/#installacio-del-rol-dns","title":"Instal\u00b7laci\u00f3 del Rol DNS","text":"<p>En Windows Server 2022, la instal\u00b7laci\u00f3 del rol DNS es pot fer mitjan\u00e7ant Server Manager o PowerShell.</p> <p>Mitjan\u00e7ant PowerShell:</p> <pre><code># Instal\u00b7laci\u00f3 del rol DNS\nInstall-WindowsFeature -Name DNS -IncludeManagementTools\n\n# Verificaci\u00f3 de la instal\u00b7laci\u00f3\nGet-WindowsFeature -Name DNS\n\n# Reiniciar el servei DNS\nRestart-Service DNS\n</code></pre> <p>Mitjan\u00e7ant Server Manager:</p> <ol> <li>Obrir Server Manager</li> <li>Seleccionar \"Add Roles and Features\"</li> <li>Seleccionar \"Role-based or feature-based installation\"</li> <li>Triar el servidor local</li> <li>Marcar \"DNS Server\"</li> <li>Completar l'assistent d'instal\u00b7laci\u00f3</li> </ol>"},{"location":"DNS/dns/#configuracio-de-zones","title":"Configuraci\u00f3 de Zones","text":"<p>La configuraci\u00f3 es pot fer des de la consola DNS (dnsmgmt.msc) o PowerShell.</p> <p>Creaci\u00f3 de zona directa amb PowerShell:</p> <pre><code># Crear zona prim\u00e0ria\nAdd-DnsServerPrimaryZone -Name \"empresa.local\" `\n    -ReplicationScope \"Domain\" `\n    -DynamicUpdate \"Secure\"\n\n# Afegir registres A\nAdd-DnsServerResourceRecordA -Name \"www\" `\n    -ZoneName \"empresa.local\" `\n    -IPv4Address \"192.168.1.20\" `\n    -TimeToLive 01:00:00\n\n# Afegir registre MX\nAdd-DnsServerResourceRecordMX -Name \".\" `\n    -ZoneName \"empresa.local\" `\n    -MailExchange \"mail.empresa.local\" `\n    -Preference 10\n</code></pre>"},{"location":"DNS/dns/#configuracio-de-forwarders","title":"Configuraci\u00f3 de Forwarders","text":"<pre><code># Configurar DNS forwarders\nAdd-DnsServerForwarder -IPAddress 8.8.8.8\nAdd-DnsServerForwarder -IPAddress 1.1.1.1\n\n# Verificar forwarders\nGet-DnsServerForwarder\n</code></pre>"},{"location":"DNS/dns/#configuracio-de-dns-segur","title":"Configuraci\u00f3 de DNS Segur","text":"<p>Windows Server 2022 suporta DNS over HTTPS (DoH) per al client DNS:</p> <pre><code># Afegir servidor DoH conegut\nAdd-DnsClientDohServerAddress `\n    -ServerAddress \"1.1.1.1\" `\n    -DohTemplate \"https://cloudflare-dns.com/dns-query\" `\n    -AllowFallbackToUdp $False `\n    -AutoUpgrade $True\n\n# Verificar configuraci\u00f3 DoH\nGet-DnsClientDohServerAddress\n</code></pre>"},{"location":"DNS/dns/#dns-secundari-i-replicacio","title":"DNS Secundari i Replicaci\u00f3","text":""},{"location":"DNS/dns/#concepte-de-dns-secundari","title":"Concepte de DNS Secundari","text":"<p>Un servidor DNS secundari mant\u00e9 una c\u00f2pia de nom\u00e9s lectura de les zones d'un servidor primari. Aix\u00f2 proporciona redund\u00e0ncia i millora el rendiment distribuint la c\u00e0rrega de consultes.</p> <p>El servidor secundari sincronitza peri\u00f2dicament les seves dades amb el primari mitjan\u00e7ant transfer\u00e8ncies de zona.</p>"},{"location":"DNS/dns/#configuracio-en-linux","title":"Configuraci\u00f3 en Linux","text":"<p>Al servidor primari, modificar la zona per permetre transfer\u00e8ncies:</p> <pre><code>zone \"empresa.local\" {\n    type master;\n    file \"/etc/bind/zones/db.empresa.local\";\n    allow-transfer { 192.168.1.11; };  # IP del secundari\n    also-notify { 192.168.1.11; };\n};\n</code></pre> <p>Al servidor secundari:</p> <pre><code>zone \"empresa.local\" {\n    type slave;\n    file \"/var/cache/bind/db.empresa.local\";\n    masters { 192.168.1.10; };  # IP del primari\n};\n</code></pre>"},{"location":"DNS/dns/#configuracio-en-windows","title":"Configuraci\u00f3 en Windows","text":"<pre><code># Al servidor primari - permetre transfer\u00e8ncies\nSet-DnsServerPrimaryZone -Name \"empresa.local\" `\n    -SecondaryServers \"192.168.1.11\" `\n    -SecureSecondaries TransferToSecureServers\n\n# Al servidor secundari - crear zona secund\u00e0ria\nAdd-DnsServerSecondaryZone -Name \"empresa.local\" `\n    -ZoneFile \"empresa.local.dns\" `\n    -MasterServers \"192.168.1.10\"\n</code></pre>"},{"location":"DNS/dns/#resolucio-de-problemes-i-eines-de-diagnostic","title":"Resoluci\u00f3 de Problemes i Eines de Diagn\u00f2stic","text":""},{"location":"DNS/dns/#eines-basiques","title":"Eines B\u00e0siques","text":"<p>nslookup: Eina multiplataforma per a consultes DNS b\u00e0siques:</p> <pre><code># Consulta simple\nnslookup www.google.com\n\n# Consulta a servidor espec\u00edfic\nnslookup www.google.com 8.8.8.8\n\n# Consulta de registre MX\nnslookup -type=mx gmail.com\n</code></pre> <p>dig (Domain Information Groper): Eina m\u00e9s potent i flexible:</p> <pre><code># Consulta detallada\ndig www.exemple.cat\n\n# Consulta espec\u00edfica de tipus\ndig MX exemple.cat\n\n# Tra\u00e7ar el cam\u00ed de resoluci\u00f3\ndig +trace www.exemple.cat\n\n# Consulta inversa\ndig -x 192.0.2.1\n</code></pre> <p>host: Eina simple per a consultes r\u00e0pides:</p> <pre><code># Consulta b\u00e0sica\nhost www.exemple.cat\n\n# Tots els registres\nhost -a exemple.cat\n</code></pre>"},{"location":"DNS/dns/#diagnostic-avancat","title":"Diagn\u00f2stic Avan\u00e7at","text":"<p>Verificaci\u00f3 de configuraci\u00f3 BIND:</p> <pre><code># Verificar sintaxi de named.conf\nsudo named-checkconf\n\n# Verificar fitxer de zona\nsudo named-checkzone empresa.local /etc/bind/zones/db.empresa.local\n\n# Veure el log del servei\nsudo journalctl -u bind9 -f\n</code></pre> <p>An\u00e0lisi de cache:</p> <pre><code># Veure estad\u00edstiques del servidor\nsudo rndc stats\n\n# Buidar la cache\nsudo rndc flush\n\n# Veure la cache actual\nsudo rndc dumpdb -cache\n</code></pre>"},{"location":"DNS/dns/#problemes-comuns-i-solucions","title":"Problemes Comuns i Solucions","text":"<p>Problema: El servidor no respon a consultes externes</p> <p>Soluci\u00f3: Verificar la configuraci\u00f3 d'<code>allow-query</code> i les regles del firewall:</p> <pre><code># Verificar configuraci\u00f3\ngrep -i \"allow-query\" /etc/bind/named.conf.options\n\n# Obrir ports al firewall (Ubuntu/UFW)\nsudo ufw allow 53/tcp\nsudo ufw allow 53/udp\n</code></pre> <p>Problema: La zona no es transfereix al servidor secundari</p> <p>Soluci\u00f3: Verificar <code>allow-transfer</code> i incrementar el n\u00famero de s\u00e8rie:</p> <pre><code># Al primari - verificar permisos de transfer\u00e8ncia\ngrep -i \"allow-transfer\" /etc/bind/named.conf.local\n\n# Incrementar serial i recarregar\nsudo nano /etc/bind/zones/db.empresa.local  # Incrementar serial\nsudo rndc reload empresa.local\n</code></pre>"},{"location":"DNS/dns/#seguretat-dns","title":"Seguretat DNS","text":""},{"location":"DNS/dns/#principals-amenaces","title":"Principals Amenaces","text":"<p>Segons una enquesta d'IDC de 2021, el 87% de les organitzacions han patit atacs DNS, amb un cost mitj\u00e0 d'aproximadament 950.000 d\u00f2lars per atac.</p> <p>DNS Cache Poisoning (Enverinament de Cache):</p> <p>Aquest atac intenta corrompre la cache DNS per redirigir els usuaris a llocs maliciosos. L'atacant injecta respostes DNS falses abans que arribi la resposta leg\u00edtima.</p> <p>DNS Amplification/DDoS:</p> <p>L'atacant envia peticions DNS amb l'adre\u00e7a IP de la v\u00edctima falsificada com a origen, causant que les respostes (molt m\u00e9s grans) es dirigeixin a la v\u00edctima.</p> <p>DNS Tunneling:</p> <p>T\u00e8cnica que codifica dades en consultes i respostes DNS per exfiltrar informaci\u00f3 o establir canals de comandament i control evitant els firewalls.</p> <p>DNS Hijacking:</p> <p>L'atacant modifica els servidors DNS o el registrador de domini per desviar el tr\u00e0nsit.</p>"},{"location":"DNS/dns/#dnssec-dns-security-extensions","title":"DNSSEC (DNS Security Extensions)","text":"<p>DNSSEC afegeix signatures digitals als registres DNS per garantir-ne l'autenticitat i integritat.</p> <p>Configuraci\u00f3 de DNSSEC en BIND9:</p> <pre><code># Generar claus per a la zona\ncd /etc/bind/keys/\ndnssec-keygen -a RSASHA256 -b 2048 -n ZONE empresa.local\ndnssec-keygen -a RSASHA256 -b 4096 -n ZONE -f KSK empresa.local\n\n# Signar la zona\ndnssec-signzone -A -3 $(head -c 1000 /dev/random | sha1sum | cut -b 1-16) \\\n    -N INCREMENT -o empresa.local -t \\\n    /etc/bind/zones/db.empresa.local\n\n# Configurar BIND per usar la zona signada\nzone \"empresa.local\" {\n    type master;\n    file \"/etc/bind/zones/db.empresa.local.signed\";\n    # ... resta de configuraci\u00f3\n};\n</code></pre>"},{"location":"DNS/dns/#millors-practiques-de-seguretat","title":"Millors Pr\u00e0ctiques de Seguretat","text":"<p>Les millors pr\u00e0ctiques inclouen implementar limitaci\u00f3 de taxa (rate limiting) per controlar el volum de tr\u00e0nsit DNS.</p> <p>1. Restringir Consultes Recursives:</p> <pre><code># Nom\u00e9s permetre recursi\u00f3 des de xarxes de confian\u00e7a\noptions {\n    recursion yes;\n    allow-recursion { xarxa-interna; };\n};\n</code></pre> <p>2. Implementar Rate Limiting:</p> <pre><code># Limitar consultes per client\nrate-limit {\n    responses-per-second 10;\n    window 5;\n};\n</code></pre> <p>3. Amagar Versi\u00f3 de BIND:</p> <pre><code>options {\n    version \"DNS Server\";\n    hostname \"NS\";\n    server-id none;\n};\n</code></pre> <p>4. Desactivar Transfer\u00e8ncies de Zona No Autoritzades:</p> <pre><code>options {\n    allow-transfer { none; };\n};\n\n# O nom\u00e9s a servidors espec\u00edfics\nzone \"empresa.local\" {\n    allow-transfer { 192.168.1.11; key transfer-key; };\n};\n</code></pre> <p>5. Utilitzar TSIG per a Transfer\u00e8ncies Segures:</p> <pre><code># Generar clau TSIG\ndnssec-keygen -a HMAC-SHA256 -b 256 -n HOST transfer-key\n\n# Configurar la clau\nkey \"transfer-key\" {\n    algorithm hmac-sha256;\n    secret \"base64-encoded-secret-key\";\n};\n\n# Usar la clau per a transfer\u00e8ncies\nserver 192.168.1.11 {\n    keys { transfer-key; };\n};\n</code></pre>"},{"location":"DNS/dns/#monitoritzacio-i-deteccio-damenaces","title":"Monitoritzaci\u00f3 i Detecci\u00f3 d'Amenaces","text":"<p>\u00c9s essencial registrar i monitoritzar les consultes DNS per detectar anomalies.</p> <p>Configuraci\u00f3 de logging detallat:</p> <pre><code>logging {\n    channel security_log {\n        file \"/var/log/bind/security.log\" versions 3 size 10m;\n        severity info;\n        print-time yes;\n        print-severity yes;\n        print-category yes;\n    };\n\n    channel query_log {\n        file \"/var/log/bind/query.log\" versions 3 size 50m;\n        severity info;\n        print-time yes;\n    };\n\n    category security { security_log; };\n    category queries { query_log; };\n    category query-errors { query_log; };\n};\n</code></pre> <p>Eines per analitzar logs:</p> <pre><code># Veure les consultes m\u00e9s freq\u00fcents\ncat /var/log/bind/query.log | grep \"query:\" | \\\n    awk '{print $8}' | sort | uniq -c | sort -rn | head -20\n\n# Detectar possibles atacs DDoS\ntail -f /var/log/bind/query.log | \\\n    grep -E \"denied|REFUSED|SERVFAIL\"\n\n# Analitzar patrons sospitosos\ngrep -E \"ANY|AXFR\" /var/log/bind/query.log\n</code></pre>"},{"location":"DNS/dns/#dns-en-entorns-cloud-i-contenidors","title":"DNS en Entorns Cloud i Contenidors","text":""},{"location":"DNS/dns/#dns-en-kubernetes","title":"DNS en Kubernetes","text":"<p>Kubernetes utilitza CoreDNS com a servidor DNS per defecte, proporcionant resoluci\u00f3 de noms per a serveis i pods.</p> <p>Exemple de configuraci\u00f3 de CoreDNS:</p> <pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: coredns\n  namespace: kube-system\ndata:\n  Corefile: |\n    .:53 {\n        errors\n        health {\n           lameduck 5s\n        }\n        ready\n        kubernetes cluster.local in-addr.arpa ip6.arpa {\n           pods insecure\n           fallthrough in-addr.arpa ip6.arpa\n           ttl 30\n        }\n        prometheus :9153\n        forward . /etc/resolv.conf {\n           max_concurrent 1000\n        }\n        cache 30\n        loop\n        reload\n        loadbalance\n    }\n</code></pre>"},{"location":"DNS/dns/#dns-en-docker","title":"DNS en Docker","text":"<p>Docker utilitza un servidor DNS embedded per a la resoluci\u00f3 de noms entre contenidors:</p> <pre><code># Crear xarxa personalitzada amb DNS\ndocker network create --driver bridge \\\n    --subnet=172.20.0.0/16 \\\n    --opt \"com.docker.network.bridge.name\"=\"docker-dns\" \\\n    mynetwork\n\n# Executar contenidor amb DNS personalitzat\ndocker run -d \\\n    --name myapp \\\n    --network mynetwork \\\n    --dns 8.8.8.8 \\\n    --dns-search exemple.local \\\n    nginx\n</code></pre>"},{"location":"DNS/dns/#1dns-com-a-servei-dns-as-a-service","title":"1DNS com a Servei (DNS-as-a-Service)","text":"<p>Molts prove\u00efdors cloud ofereixen serveis DNS gestionats:</p> <ul> <li>AWS Route 53: Servei DNS altament disponible i escalable</li> <li>Azure DNS: Integrat amb els serveis de Microsoft Azure</li> <li>Google Cloud DNS: DNS global amb baixa lat\u00e8ncia</li> <li>Cloudflare DNS: Conegut per la seva velocitat i seguretat</li> </ul>"},{"location":"DNS/dns/#optimitzacio-del-rendiment","title":"Optimitzaci\u00f3 del Rendiment","text":""},{"location":"DNS/dns/#configuracio-de-cache","title":"Configuraci\u00f3 de Cache","text":"<p>Optimitzar la cache pot millorar significativament el rendiment:</p> <pre><code>options {\n    # Cache per a respostes positives\n    max-cache-size 256m;\n    max-cache-ttl 86400;\n\n    # Cache per a respostes negatives\n    max-ncache-ttl 3600;\n\n    # Prefetch de registres abans que expirin\n    prefetch 2 9;\n};\n</code></pre>"},{"location":"DNS/dns/#configuracio-de-views-split-horizon-dns","title":"Configuraci\u00f3 de Views (Split-horizon DNS)","text":"<p>Permet servir diferents respostes segons l'origen de la consulta:</p> <pre><code># Definir ACLs\nacl \"interna\" { 192.168.0.0/16; 10.0.0.0/8; };\nacl \"externa\" { any; };\n\n# Vista interna\nview \"interna\" {\n    match-clients { interna; };\n\n    zone \"empresa.local\" {\n        type master;\n        file \"/etc/bind/zones/interna/db.empresa.local\";\n    };\n};\n\n# Vista externa\nview \"externa\" {\n    match-clients { externa; };\n\n    zone \"empresa.local\" {\n        type master;\n        file \"/etc/bind/zones/externa/db.empresa.local\";\n    };\n};\n</code></pre>"},{"location":"DNS/dns/#anycast-dns","title":"Anycast DNS","text":"<p>Utilitzar anycast permet dirigir les consultes al servidor m\u00e9s proper geogr\u00e0ficament:</p> <pre><code># Configuraci\u00f3 BGP per anycast (exemple amb BIRD)\nprotocol bgp {\n    local as 65001;\n    neighbor 192.0.2.1 as 65000;\n\n    export filter {\n        if net = 203.0.113.53/32 then accept;\n        reject;\n    };\n}\n</code></pre>"},{"location":"DNS/dns/#compliment-normatiu-i-estandards","title":"Compliment Normatiu i Est\u00e0ndards","text":""},{"location":"DNS/dns/#121-rfcs-principals","title":"12.1 RFCs Principals","text":"<p>Els Request for Comments (RFCs) s\u00f3n els documents que defineixen els est\u00e0ndards d'Internet. Els m\u00e9s importants per a DNS s\u00f3n:</p> <ul> <li>RFC 1034 i 1035 (1987): Definicions b\u00e0siques del DNS</li> <li>RFC 2181 (1997): Clarificacions sobre l'especificaci\u00f3 DNS</li> <li>RFC 2308 (1998): Negative caching</li> <li>RFC 4033-4035 (2005): DNSSEC</li> <li>RFC 6891 (2013): Extension Mechanisms for DNS (EDNS)</li> <li>RFC 7858 (2016): DNS over TLS (DoT)</li> <li>RFC 8484 (2018): DNS over HTTPS (DoH)</li> <li>RFC 9250 (2022): DNS over QUIC (DoQ)</li> </ul>"},{"location":"DNS/dns/#compliment-gdpr","title":"Compliment GDPR","text":"<p>Sota el GDPR, les consultes DNS poden contenir dades personals. Recomanacions:</p> <ul> <li>Minimitzar el logging de consultes DNS</li> <li>Anonimitzar adreces IP als logs</li> <li>Establir per\u00edodes de retenci\u00f3 curts</li> <li>Xifrar les comunicacions DNS (DoH/DoT)</li> </ul> <p>La tra\u00e7abilitat de la navegaci\u00f3</p>"},{"location":"DNS/dns/#casos-dus-i-escenaris-practics","title":"Casos d'\u00das i Escenaris Pr\u00e0ctics","text":""},{"location":"DNS/dns/#dns-per-a-active-directory","title":"DNS per a Active Directory","text":"<p>Active Directory dep\u00e8n completament del DNS per al seu funcionament:</p> <pre><code># Zones necess\u00e0ries per AD\n_msdcs.domini.local\n_sites.domini.local\n_tcp.domini.local\n_udp.domini.local\n</code></pre>"},{"location":"DNS/dns/#dns-per-a-serveis-de-correu","title":"DNS per a Serveis de Correu","text":"<p>Configuraci\u00f3 completa per a un servidor de correu:</p> <pre><code># Registres necessaris\n@           IN  MX  10  mail.exemple.cat.\nmail        IN  A       203.0.113.10\n@           IN  TXT     \"v=spf1 mx -all\"\n_dmarc      IN  TXT     \"v=DMARC1; p=quarantine; rua=mailto:dmarc@exemple.cat\"\ndefault._domainkey IN TXT \"v=DKIM1; k=rsa; p=MIGfMA0GCS...\"\n</code></pre>"},{"location":"DNS/dns/#dns-per-a-balanceig-de-carrega","title":"DNS per a Balanceig de C\u00e0rrega","text":"<p>Utilitzar m\u00faltiples registres A per distribuir tr\u00e0nsit:</p> <pre><code>www         IN  A   203.0.113.10\nwww         IN  A   203.0.113.11\nwww         IN  A   203.0.113.12\n</code></pre>"},{"location":"DNS/dns/#14-tendencies-futures","title":"14. Tend\u00e8ncies Futures","text":""},{"location":"DNS/dns/#141-dns-over-https-doh-i-dns-over-tls-dot","title":"14.1 DNS over HTTPS (DoH) i DNS over TLS (DoT)","text":"<p>Aquests protocols xifren les consultes DNS per millorar la privadesa. Configuraci\u00f3 de DoT en BIND 9.18+:</p> <pre><code>tls local-tls {\n    cert-file \"/etc/bind/certs/cert.pem\";\n    key-file \"/etc/bind/certs/key.pem\";\n};\n\noptions {\n    listen-on port 853 tls local-tls { any; };\n};\n</code></pre>"},{"location":"DNS/dns/#142-dns-sobre-quic-doq","title":"14.2 DNS sobre QUIC (DoQ)","text":"<p>Protocol emergent que combina els beneficis de DoH/DoT amb menor lat\u00e8ncia utilitzant QUIC.</p>"},{"location":"DNS/dns/#143-integracio-amb-ia-i-machine-learning","title":"14.3 Integraci\u00f3 amb IA i Machine Learning","text":"<p>Detecci\u00f3 d'anomalies i predicci\u00f3 d'amenaces utilitzant IA, amb precisi\u00f3 del 96% en alguns sistemes comercials.</p>"},{"location":"DNS/dns/#referencies-i-recursos","title":"Refer\u00e8ncies i Recursos","text":""},{"location":"DNS/dns/#documentacio-oficial","title":"Documentaci\u00f3 Oficial","text":"<ul> <li>ISC BIND 9 Documentation</li> <li>Microsoft DNS Server</li> <li>RFC Editor</li> </ul>"},{"location":"DNS/dns/#llibres-recomanats","title":"Llibres Recomanats","text":"<ul> <li>\"DNS and BIND\" de Cricket Liu i Paul Albitz (O'Reilly)</li> <li>\"DNS for Rocket Scientists\" de Ron Aitchison (disponible online a zytrax.com)</li> <li>\"DNS Security: Defending the Domain Name System\" de Allan Liska i Timothy Gallo</li> </ul>"},{"location":"DNS/dns/#eines-i-recursos-online","title":"Eines i Recursos Online","text":"<ul> <li>DNSViz: Eina de visualitzaci\u00f3 DNSSEC </li> <li>DNS Dumpster: Eina de reconeixement DNS </li> <li>MXToolbox: Suite d'eines per a diagn\u00f2stic DNS </li> <li>Zonemaster: Eina de validaci\u00f3 de zones DNS </li> </ul>"},{"location":"DNS/dns/#comunitats-i-forums","title":"Comunitats i F\u00f2rums","text":"<ul> <li>DNS-OARC: DNS Operations, Analysis, and Research Center</li> <li>NANOG Mailing List: North American Network Operators Group</li> <li>r/sysadmin: Comunitat de Reddit per a administradors de sistemes</li> </ul>"},{"location":"DNS/dns/#glossari-de-termes","title":"Glossari de Termes","text":"<ul> <li>Authoritative Server: Servidor que cont\u00e9 la informaci\u00f3 oficial d'una zona DNS</li> <li>Cache: Mem\u00f2ria temporal que emmagatzema respostes DNS recents</li> <li>CNAME Chasing: Proc\u00e9s de seguir cadenes de registres CNAME fins arribar a un registre A</li> <li>FQDN (Fully Qualified Domain Name): Nom de domini complet incloent tots els nivells</li> <li>Glue Record: Registre A necessari quan un servidor de noms est\u00e0 dins del seu propi domini</li> <li>Iterative Query: Consulta on el servidor DNS retorna la millor resposta que pot sense fer consultes addicionals</li> <li>NXDOMAIN: Resposta que indica que el domini consultat no existeix</li> <li>Recursive Query: Consulta on el servidor DNS fa totes les consultes necess\u00e0ries per obtenir la resposta completa</li> <li>Root Hints: Llista d'adreces IP dels servidors arrel</li> <li>Round-Robin DNS: T\u00e8cnica de balanceig de c\u00e0rrega rotant entre m\u00faltiples registres A</li> <li>SOA (Start of Authority): Registre que cont\u00e9 informaci\u00f3 administrativa sobre la zona</li> <li>Split-horizon DNS: Servir diferents respostes DNS segons l'origen de la consulta</li> <li>TTL (Time To Live): Temps que una resposta DNS pot ser emmagatzemada en cache</li> <li>Zone Transfer: Proc\u00e9s de copiar tots els registres d'una zona d'un servidor a un altre</li> <li>Zone Walking: T\u00e8cnica per enumerar tots els registres d'una zona DNS</li> </ul>"},{"location":"DNS/dns/#activitats","title":"Activitats","text":""},{"location":"samples/admonitions/","title":"Admonitions","text":"<p>Title of the callout</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> Title of the callout <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p>"},{"location":"samples/code-examples/","title":"Code examples","text":"<p>An example of codeblock in python</p> add_numbers.py<pre><code># Function to add two numbers\ndef add_two_numbers(num1, num2):\n    return num1 + num2\n</code></pre> <pre><code># Example usage\nresult = add_two_numbers(5, 3)\nprint('The sum is:', result)\n</code></pre>"},{"location":"samples/content-tabs/","title":"Content tabs","text":""},{"location":"samples/content-tabs/#content-tabs","title":"Content Tabs","text":"<p>This is some examples of content tabs.</p>"},{"location":"samples/content-tabs/#generic-content","title":"Generic Content","text":"Plain textUnordered listOrdered list <p>This is some plain text</p> <ul> <li>First item</li> <li>Second item</li> <li>Third item</li> </ul> <ol> <li>First item</li> <li>Second item</li> <li>Third item</li> </ol>"}]}